<form>
  <div mat-dialog-content>
    @if (useUserSearch) {
      <mat-form-field appearance="outline">
        <mat-label>{{ 'admin.admin-area.' + inputName | transloco }}</mat-label>
        <input
          matInput
          appDisableForm
          [formControl]="formControl"
          [matAutocomplete]="auto"
          #searchInput
        />
        <mat-icon
          [ngClass]="!!user ? 'check-icon' : 'search-icon'"
          matIconPrefix
          >{{ !!user ? 'check' : 'search' }}</mat-icon
        >
        @if (searchInput.value) {
          <button
            matSuffix
            mat-icon-button
            class="clear-button"
            (click)="clear()"
          >
            <mat-icon>close</mat-icon>
          </button>
        }
        <mat-autocomplete #auto="matAutocomplete" panelWidth="350px">
          @for (user of users(); track user) {
            <mat-option
              [value]="user.username"
              (onSelectionChange)="selectUser(user)"
            >
              {{ user.username }}
            </mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>
    } @else {
      <mat-form-field appearance="outline">
        <mat-label>{{ 'admin.admin-area.' + inputName | transloco }}</mat-label>
        <input matInput [formControl]="formControl" autocomplete="off" />
      </mat-form-field>
    }
  </div>
  <div fxLayoutAlign="end">
    <div mat-dialog-actions fxLayout="row-reverse" fxLayoutAling="end">
      <app-loading-button
        [name]="'admin.admin-area.' + primaryAction"
        (clicked)="submit()"
        [isDialog]="true"
      ></app-loading-button>
      <button
        (click)="close()"
        aria-labelledby="cancel"
        mat-button
        type="button"
      >
        {{ 'admin.admin-area.cancel' | transloco }}
      </button>
    </div>
  </div>
</form>

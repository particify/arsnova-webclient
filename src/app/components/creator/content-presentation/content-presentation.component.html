<app-nav-bar *ngIf="!isPresentation"></app-nav-bar>
<app-info-bar *ngIf="!isLoading && isPresentation && contents.length > 1" [barItems]="infoBarItems" [isPresentation]="true"
              [position]="'right'" [mode]="'pure'"></app-info-bar>
<app-answer-count *ngIf="!isLoading && isPresentation" [count]="answerCount" [size]="'presentation'" [visible]="answerCount"></app-answer-count>
<app-loading-indicator *ngIf="isLoading"></app-loading-indicator>
<div class="nav-bar-container">
  <div *ngIf="!isPresentation" tabindex="-1" id="presentation-message" class="visually-hidden">
    {{ 'statistic.a11y-message-presentation' | translate }}
  </div>
  <button *ngIf="isPresentation" tabindex="-1" id="presentation-mode-message" class="visually-hidden"
          (click)="announcePresentationShortcuts()">
    {{ 'presentation.a11y-content-message' | translate: { group: contentGroup.name} }}
  </button>
  <div id="stepper-container" *ngIf="true" fxLayout="column" fxLayoutAlign="start center" [ngClass]="{'scalable': isPresentation}">
    <app-stepper *ngIf="contents?.length > 0 && !isLoading" (newIndex)="updateURL($event)" [listLength]="contents.length"
                 [completed]="" [isPresentation]="isPresentation">
      <cdk-step *ngFor="let content of contents; let i = index">
        <div id="step" *ngIf="(currentStep >= i - 1 && currentStep <= i + 1) || isPresentation">
          <mat-card [ngClass]="{'presentation-card': isPresentation}">
            <app-statistic-content [content]="content" [directShow]="contentIndex === i" [active]="currentStep === i"
                                   [index]="i" [correctOptionsPublished]="true" [isPresentation]="isPresentation"
            (updatedCounter)="updateCounter($event, currentStep === i)" [routeChanged]="routeChanged">

            </app-statistic-content>
          </mat-card>
        </div>
        <div tabindex="0" class="visually-hidden">{{ 'statistic.a11y-no-more-answers' | translate }}</div>
      </cdk-step>
    </app-stepper>
  </div>
</div>
